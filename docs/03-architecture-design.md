# ç³»ç»Ÿæ¶æ„è®¾è®¡æ–‡æ¡£

> é¡¹ç›®ï¼šPersona Knowledge Base V2
> æ–‡æ¡£ç‰ˆæœ¬ï¼šv1.0
> åˆ›å»ºæ—¥æœŸï¼š2026-01-13
> é˜¶æ®µï¼šæ¶æ„è®¾è®¡

---

## ğŸ“Œ æ¶æ„æ¦‚è¿°

### æ¶æ„é£æ ¼
> **æ¨¡å—åŒ–æ¶æ„ï¼ˆModular Architectureï¼‰**

### è®¾è®¡åŸåˆ™
1. **æ¨¡å—ç‹¬ç«‹** - å„æ¨¡å—èŒè´£æ¸…æ™°ï¼Œä½è€¦åˆé«˜å†…èš
2. **åˆ†å±‚æ¸…æ™°** - UIå±‚ã€ä¸šåŠ¡å±‚ã€æ•°æ®å±‚åˆ†ç¦»
3. **å¯æ‰©å±•æ€§** - ä¾¿äºæ·»åŠ æ–°åŠŸèƒ½å’Œæ¨¡å—
4. **å¯æµ‹è¯•æ€§** - æ¨¡å—åŒ–ä¾¿äºå•å…ƒæµ‹è¯•

---

## ğŸ—ï¸ ç³»ç»Ÿæ•´ä½“æ¶æ„

### æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Persona Knowledge Base V2               â”‚
â”‚              (Electron æ¡Œé¢åº”ç”¨)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  UI æ¨¡å—  â”‚  â”‚  æ ¸å¿ƒæ¨¡å—  â”‚  â”‚ AI æ¨¡å—   â”‚      â”‚
â”‚  â”‚  (React)  â”‚  â”‚ (Business)â”‚  â”‚(LangChain)â”‚      â”‚
â”‚  â”‚          â”‚  â”‚          â”‚  â”‚          â”‚      â”‚
â”‚  â”‚ - ä¸»ç•Œé¢  â”‚  â”‚ - ç¬”è®°ç®¡ç†â”‚  â”‚ - LLMè°ƒç”¨â”‚      â”‚
â”‚  â”‚ - æ£€ç´¢ç•Œé¢â”‚  â”‚ - æ–‡ä»¶IO  â”‚  â”‚ - Prompt â”‚      â”‚
â”‚  â”‚ - è®¾ç½®ç•Œé¢â”‚  â”‚ - çŠ¶æ€ç®¡ç†â”‚  â”‚ - Chain  â”‚      â”‚
â”‚  â”‚ - å¯¹è¯ç•Œé¢â”‚  â”‚ - ç»“æ„åˆ†æâ”‚  â”‚ - è®°å¿†   â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â”‚
â”‚       â”‚             â”‚             â”‚           â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                     â”‚                         â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚              â”‚  æ•°æ®å±‚      â”‚                  â”‚
â”‚              â”‚ (Data Layer)â”‚                  â”‚
â”‚              â”‚             â”‚                  â”‚
â”‚              â”‚ - æœ¬åœ°æ–‡ä»¶  â”‚ â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚              â”‚ - é…ç½®ç®¡ç†  â”‚               â”‚  â”‚
â”‚              â”‚ - å‘é‡æ•°æ®åº“â”‚               â”‚  â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚  â”‚
â”‚                     â”‚                        â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                      â”‚                           â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
         â†“                         â†“            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ    â”‚      â”‚  DeepSeek API   â”‚     â”‚
â”‚  (.md ç¬”è®°)     â”‚      â”‚  (LLM æœåŠ¡)      â”‚     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
                                                   â”‚
                   å¤–éƒ¨ä¾èµ–                        â”‚
```

---

## ğŸ“¦ æ¨¡å—è¯¦ç»†è®¾è®¡

### 1. UI æ¨¡å— (UI Layer)

**èŒè´£**ï¼šè´Ÿè´£ç”¨æˆ·ç•Œé¢å±•ç¤ºå’Œäº¤äº’

**å­æ¨¡å—**ï¼š

| å­æ¨¡å— | ç»„ä»¶ | åŠŸèƒ½ |
|--------|------|------|
| **ä¸»ç•Œé¢** | Dashboard | åº”ç”¨ä¸»å…¥å£ã€å¿«æ·åŠŸèƒ½å…¥å£ |
| **æ£€ç´¢ç•Œé¢** | SearchPanel | F1ï¼šæ™ºèƒ½æ£€ç´¢åŠŸèƒ½ç•Œé¢ |
| **æ•´ç†ç•Œé¢** | OrganizePanel | F2ï¼šç¢ç‰‡ä¿¡æ¯æ•´ç†ç•Œé¢ |
| **å¯¹è¯ç•Œé¢** | ChatPanel | F3ï¼šAIé—®ç­”å¯¹è¯ç•Œé¢ |
| **å»ºè®®ç•Œé¢** | SuggestPanel | F4ï¼šä¼˜åŒ–å»ºè®®å±•ç¤ºç•Œé¢ |
| **è®¾ç½®ç•Œé¢** | SettingsPanel | åº”ç”¨è®¾ç½®ã€APIé…ç½® |

**æŠ€æœ¯æ ˆ**ï¼šReact + TypeScript + shadcn/ui

---

### 2. æ ¸å¿ƒæ¨¡å— (Core Layer)

**èŒè´£**ï¼šä¸šåŠ¡é€»è¾‘å¤„ç†å’Œæ•°æ®ç®¡ç†

**å­æ¨¡å—**ï¼š

| å­æ¨¡å— | åŠŸèƒ½ |
|--------|------|
| **ç¬”è®°ç®¡ç†å™¨** (NoteManager) | è¯»å–ã€è§£æã€ä¿å­˜ Obsidian ç¬”è®° |
| **æ–‡ä»¶IO** (FileService) | æ–‡ä»¶è¯»å†™ã€ç›®å½•æ“ä½œ |
| **çŠ¶æ€ç®¡ç†** (StoreManager) | åº”ç”¨çŠ¶æ€ç®¡ç†ï¼ˆZustand/Reduxï¼‰ |
| **ç»“æ„åˆ†æå™¨** (StructureAnalyzer) | åˆ†æçŸ¥è¯†åº“ç»“æ„ï¼Œç”Ÿæˆä¼˜åŒ–å»ºè®® |
| **å‘é‡åŒ–æœåŠ¡** (EmbeddingService) | æ–‡æœ¬å‘é‡åŒ–ï¼Œç”¨äºæ™ºèƒ½æ£€ç´¢ |

**æŠ€æœ¯æ ˆ**ï¼šTypeScript + Node.js

---

### 3. AI æ¨¡å— (AI Layer)

**èŒè´£**ï¼šAI èƒ½åŠ›å°è£…å’Œ LangChain é›†æˆ

**å­æ¨¡å—**ï¼š

| å­æ¨¡å— | åŠŸèƒ½ |
|--------|------|
| **LLM å®¢æˆ·ç«¯** (LLMClient) | å°è£… DeepSeek API è°ƒç”¨ |
| **Prompt ç®¡ç†å™¨** (PromptManager) | ç®¡ç†æç¤ºè¯æ¨¡æ¿ |
| **Chain ç¼–æ’å™¨** (ChainBuilder) | æ„å»ºå’Œæ‰§è¡Œ LangChain Chain |
| **è®°å¿†ç®¡ç†** (MemoryManager) | ç®¡ç†å¯¹è¯è®°å¿†å’Œå†å² |
| **æ£€ç´¢å™¨** (Retriever) | å®ç°æ™ºèƒ½æ£€ç´¢ï¼ˆRAGï¼‰ |

**æŠ€æœ¯æ ˆ**ï¼šLangChain.js + DeepSeek API

---

### 4. æ•°æ®å±‚ (Data Layer)

**èŒè´£**ï¼šæ•°æ®æŒä¹…åŒ–å’Œå­˜å‚¨

**å­æ¨¡å—**ï¼š

| å­æ¨¡å— | åŠŸèƒ½ |
|--------|------|
| **æœ¬åœ°å­˜å‚¨** (LocalStorage) | ç”¨æˆ·é…ç½®ã€åå¥½è®¾ç½® |
| **æ–‡ä»¶å­˜å‚¨** (FileStorage) | Obsidian ç¬”è®°ç›®å½•ç®¡ç† |
| **å‘é‡æ•°æ®åº“** (VectorDB) | å­˜å‚¨æ–‡æœ¬å‘é‡ï¼ˆå¯é€‰ï¼šChromaDBã€Pineconeï¼‰ |

**æŠ€æœ¯æ ˆ**ï¼šNode.js fs + JSON + å‘é‡æ•°æ®åº“ï¼ˆå¾…å®šï¼‰

---

## ğŸ¯ åŠŸèƒ½æ¨¡å—æ˜ å°„

### åŠŸèƒ½ä¸æ¨¡å—å…³ç³»å›¾

| åŠŸèƒ½ID | åŠŸèƒ½åç§° | æ¶‰åŠæ¨¡å— | æ ¸å¿ƒç»„ä»¶ | æ•°æ®æµ |
|--------|---------|---------|---------|--------|
| **F1** | æ™ºèƒ½æ£€ç´¢ | UI + æ ¸å¿ƒ + AI | SearchPanel, Retriever, LLMClient | ç”¨æˆ·æŸ¥è¯¢ â†’ å‘é‡æ£€ç´¢ â†’ LLMé‡æ’ â†’ ç»“æœå±•ç¤º |
| **F2** | ç¢ç‰‡ä¿¡æ¯æ•´ç† | UI + æ ¸å¿ƒ + AI | OrganizePanel, NoteManager, Chain | ç¢ç‰‡æ–‡æœ¬ â†’ LLMæ€»ç»“ â†’ ç»“æ„åŒ–æ–‡æ¡£ â†’ ä¿å­˜ |
| **F3** | é—®ç­”ç»éªŒå½’æ¡£ | UI + æ ¸å¿ƒ + AI | ChatPanel, LLMClient, FileService | å¯¹è¯è®°å½• â†’ LLMæ€»ç»“ â†’ è‡ªåŠ¨å½’æ¡£ |
| **F4** | çŸ¥è¯†åº“ä¼˜åŒ–å»ºè®® | UI + æ ¸å¿ƒ + AI | SuggestPanel, StructureAnalyzer, LLMClient | çŸ¥è¯†åº“æ‰«æ â†’ ç»“æ„åˆ†æ â†’ LLMå»ºè®® |
| **F5** | ç”¨æˆ·ç”»åƒä¸Šä¸‹æ–‡ | AI + æ•°æ® | MemoryManager, VectorDB | çŸ¥è¯†åº“åŠ è½½ â†’ å‘é‡åŒ– â†’ ä¸Šä¸‹æ–‡æ³¨å…¥ |

---

## ğŸ”„ æ•°æ®æµè®¾è®¡

### åœºæ™¯1ï¼šæ™ºèƒ½æ£€ç´¢ (F1)

```
ç”¨æˆ·è¾“å…¥è‡ªç„¶è¯­è¨€æŸ¥è¯¢
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SearchPanel     â”‚
â”‚  (UI æ¨¡å—)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Retriever       â”‚
â”‚  (AI æ¨¡å—)       â”‚ â†â”€â”€â”€â”€â”€ VectorDB (å‘é‡æ•°æ®åº“)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ å‘é‡æ£€ç´¢
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LLMClient       â”‚
â”‚  (AI æ¨¡å—)       â”‚ â†â”€â”€â”€â”€â”€ DeepSeek API
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ é‡æ’åº
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SearchPanel    â”‚
â”‚  (UI æ¨¡å—)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
    å±•ç¤ºæ£€ç´¢ç»“æœ
```

---

### åœºæ™¯2ï¼šç¢ç‰‡ä¿¡æ¯æ•´ç† (F2)

```
ç”¨æˆ·ç²˜è´´ç¢ç‰‡åŒ–æ–‡æœ¬
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  OrganizePanel   â”‚
â”‚  (UI æ¨¡å—)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ChainBuilder    â”‚
â”‚  (AI æ¨¡å—)       â”‚ â†â”€â”€â”€â”€â”€ PromptManager
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LLMClient       â”‚
â”‚  (AI æ¨¡å—)       â”‚ â†â”€â”€â”€â”€â”€ DeepSeek API
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  NoteManager     â”‚
â”‚  (æ ¸å¿ƒæ¨¡å—)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FileStorage     â”‚
â”‚  (æ•°æ®å±‚)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
    ä¿å­˜ç»“æ„åŒ–æ–‡æ¡£
```

---

### åœºæ™¯3ï¼šé—®ç­”ç»éªŒå½’æ¡£ (F3)

```
ç”¨æˆ·ä¸AIå¯¹è¯
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ChatPanel       â”‚
â”‚  (UI æ¨¡å—)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MemoryManager   â”‚
â”‚  (AI æ¨¡å—)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ è®°å½•å¯¹è¯
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LLMClient       â”‚
â”‚  (AI æ¨¡å—)       â”‚ â†â”€â”€â”€â”€â”€ DeepSeek API
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ æ€»ç»“ç»éªŒ
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  StructureAnalyzerâ”‚
â”‚  (æ ¸å¿ƒæ¨¡å—)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ åˆ†æåˆ†ç±»
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FileStorage     â”‚
â”‚  (æ•°æ®å±‚)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
    è‡ªåŠ¨å½’æ¡£åˆ°å¯¹åº”ä½ç½®
```

---

## ğŸ“ é¡¹ç›®ç›®å½•ç»“æ„

```
persona-knowledge-base-v2/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/                    # Electron ä¸»è¿›ç¨‹
â”‚   â”‚   â”œâ”€â”€ index.ts            # ä¸»è¿›ç¨‹å…¥å£
â”‚   â”‚   â”œâ”€â”€ ipc/                # IPC é€šä¿¡
â”‚   â”‚   â””â”€â”€ services/           # ç³»ç»ŸæœåŠ¡
â”‚   â”‚
â”‚   â”œâ”€â”€ renderer/               # æ¸²æŸ“è¿›ç¨‹ï¼ˆReactï¼‰
â”‚   â”‚   â”œâ”€â”€ App.tsx             # æ ¹ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ components/         # UI ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard/
â”‚   â”‚   â”‚   â”œâ”€â”€ SearchPanel/
â”‚   â”‚   â”‚   â”œâ”€â”€ OrganizePanel/
â”‚   â”‚   â”‚   â”œâ”€â”€ ChatPanel/
â”‚   â”‚   â”‚   â”œâ”€â”€ SuggestPanel/
â”‚   â”‚   â”‚   â””â”€â”€ Settings/
â”‚   â”‚   â”œâ”€â”€ store/              # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ hooks/              # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â””â”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”‚
â”‚   â”œâ”€â”€ core/                   # æ ¸å¿ƒä¸šåŠ¡æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ NoteManager.ts
â”‚   â”‚   â”œâ”€â”€ FileService.ts
â”‚   â”‚   â”œâ”€â”€ StructureAnalyzer.ts
â”‚   â”‚   â””â”€â”€ EmbeddingService.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ ai/                     # AI æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ LLMClient.ts
â”‚   â”‚   â”œâ”€â”€ PromptManager.ts
â”‚   â”‚   â”œâ”€â”€ ChainBuilder.ts
â”‚   â”‚   â”œâ”€â”€ MemoryManager.ts
â”‚   â”‚   â””â”€â”€ Retriever.ts
â”‚   â”‚
â”‚   â””â”€â”€ shared/                 # å…±äº«ä»£ç 
â”‚       â”œâ”€â”€ types/              # TypeScript ç±»å‹
â”‚       â””â”€â”€ constants/          # å¸¸é‡
â”‚
â”œâ”€â”€ docs/                       # æ–‡æ¡£
â”‚   â”œâ”€â”€ 01-requirements-analysis.md
â”‚   â”œâ”€â”€ 02-tech-selection.md
â”‚   â”œâ”€â”€ 03-architecture-design.md
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ vite.config.ts
â””â”€â”€ electron-builder.yml        # æ‰“åŒ…é…ç½®
```

---

## ğŸ”Œ æ¥å£è®¾è®¡

### IPC é€šä¿¡æ¥å£

Electron ä¸»è¿›ç¨‹ä¸æ¸²æŸ“è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡æ¥å£ï¼š

| æ¥å£åç§° | ç±»å‹ | å‚æ•° | è¿”å›å€¼ | ç”¨é€” |
|---------|------|------|--------|------|
| `get-note-list` | invoke | `{ path: string }` | `Note[]` | è·å–ç¬”è®°åˆ—è¡¨ |
| `read-note` | invoke | `{ filePath: string }` | `string` | è¯»å–ç¬”è®°å†…å®¹ï¼ˆåªè¯»ï¼‰ |
| `save-new-note` | invoke | `SaveNewNoteParams` | `SaveNewNoteResult` | ä¿å­˜ AI ç”Ÿæˆçš„æ–°ç¬”è®° |
| `watch-directory` | invoke | `{ path: string, debounceMs?: number }` | `void` | ç›‘å¬ Obsidian ç›®å½•å˜åŒ– |
| `unwatch-directory` | invoke | - | `void` | åœæ­¢ç›‘å¬ç›®å½• |
| `select-directory` | invoke | - | `string` | é€‰æ‹©ç¬”è®°ç›®å½• |
| `get-config` | invoke | - | `Config` | è·å–é…ç½® |
| `set-config` | invoke | `{ config: Config }` | `void` | ä¿å­˜é…ç½® |
| `note-updated` | send | `NoteUpdatedEvent` | - | é€šçŸ¥ç¬”è®°æ›´æ–°ï¼ˆObsidian ç¼–è¾‘æˆ–æ–°ç¬”è®°ä¿å­˜ï¼‰ |

**é‡è¦è¯´æ˜**ï¼š
- âŒ **ä¸åœ¨åº”ç”¨å†…ç¼–è¾‘ç¬”è®°**ï¼ˆç”¨æˆ·åœ¨ Obsidian ç¼–è¾‘ï¼‰
- âœ… **åªè¯»å±•ç¤ºç¬”è®°**ï¼ˆread-noteï¼‰
- âœ… **ä¿å­˜ AI ç”Ÿæˆçš„å†…å®¹**ï¼ˆsave-new-noteï¼ŒF2/F3 ä½¿ç”¨ï¼‰
- âœ… **ç›‘å¬ Obsidian å˜åŒ–**ï¼ˆwatch-directoryï¼‰

---

## ğŸ—ƒï¸ æ•°æ®æ¨¡å‹

### ç¬”è®° (Note)

```typescript
interface Note {
  id: string;              // ç¬”è®°å”¯ä¸€ID
  title: string;           // ç¬”è®°æ ‡é¢˜
  path: string;            // æ–‡ä»¶è·¯å¾„
  content: string;         // ç¬”è®°å†…å®¹
  tags: string[];          // æ ‡ç­¾
  createdAt: Date;         // åˆ›å»ºæ—¶é—´
  updatedAt: Date;         // æ›´æ–°æ—¶é—´
  category?: string;       // åˆ†ç±»
}
```

### é…ç½® (Config)

```typescript
interface Config {
  obsidianPath: string;        // Obsidian ç¬”è®°ç›®å½•
  deepseekApiKey: string;      // DeepSeek API Key
  deepseekModel: string;       // æ¨¡å‹åç§°
  theme: 'light' | 'dark';     // ä¸»é¢˜
  language: 'zh' | 'en';       // è¯­è¨€
}
```

---

## ğŸ”’ å®‰å…¨è€ƒè™‘

### API Key å®‰å…¨
- API Key åŠ å¯†å­˜å‚¨
- ä¸æäº¤åˆ° Gitï¼ˆåœ¨ .gitignoreï¼‰
- ç”¨æˆ·æ‰‹åŠ¨è¾“å…¥

### æ–‡ä»¶æ“ä½œå®‰å…¨
- éªŒè¯æ–‡ä»¶è·¯å¾„
- é™åˆ¶è®¿é—®èŒƒå›´
- å¤‡ä»½æœºåˆ¶

---

## ğŸ“ˆ æ‰©å±•æ€§è®¾è®¡

### æ–°å¢åŠŸèƒ½æ‰©å±•ç‚¹

1. **æ–°å¢ AI åŠŸèƒ½**ï¼šåœ¨ AI æ¨¡å—æ·»åŠ æ–°çš„ Chain
2. **æ–°å¢ UI ç•Œé¢**ï¼šåœ¨ UI æ¨¡å—æ·»åŠ æ–°ç»„ä»¶
3. **æ–°å¢æ•°æ®æº**ï¼šåœ¨æ•°æ®å±‚æ·»åŠ æ–°å­˜å‚¨
4. **æ–°å¢ LLM æœåŠ¡**ï¼šåœ¨ LLMClient æ·»åŠ é€‚é…å™¨

---

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### æµ‹è¯•å±‚æ¬¡

1. **å•å…ƒæµ‹è¯•**ï¼šå„æ¨¡å—ç‹¬ç«‹æµ‹è¯•
2. **é›†æˆæµ‹è¯•**ï¼šæ¨¡å—é—´é€šä¿¡æµ‹è¯•
3. **E2E æµ‹è¯•**ï¼šå®Œæ•´åŠŸèƒ½æµç¨‹æµ‹è¯•

### æµ‹è¯•å·¥å…·

- Vitestï¼ˆå•å…ƒæµ‹è¯•ï¼‰
- Playwrightï¼ˆE2E æµ‹è¯•ï¼‰

---

**æ–‡æ¡£çŠ¶æ€**ï¼šæ¶æ„è®¾è®¡å®Œæˆ âœ…
**ä¸‹ä¸€æ­¥**ï¼šåˆå§‹åŒ–é¡¹ç›®å¹¶å¼€å§‹ç¼–ç 
